# 如何添加nut技能

这里我先来给你们梳理一下思路
1.一个就是character，这个控制着人物的动作文件，以及部分动作特效，声明是写在chr后辍文件里面，通过chr里面的声明调用ani文件和atk文件，编号分别是从0开始，如果不知道编号就去chr里面把对应ani目录（etc motion）或atk目录（etc attack）复制到n++文件里面即可查看，例如编号为109，那么他在nut里面的实际调用编号就是108。
2.技能树文件 每个职业都有对应的技能树，本来这里不想多做讲解 考虑到这次教程偏萌新向，等下技能坐标图我会放在下方，这个绝定了你技能在技能树（也就是游戏里面你打开技能加点界面的技能位置）。
3.技能文件skl，也就是你们都SKILL文件内容，拖入进去，然后再对应职业的技能lst列表里面添加技能编号 ，这里注意一下编号最大为255，并且200～210区间的编号尽量不要用，否则会导致学习不上技能。

2和3做了之后就可以同步服务器重跑五国了，重跑之后以能学习技能，进入游戏灰技能则为成功。

4.特效文件也就是passobject文件，这个是特效技能必须要添加的，添加之后记得写上编号。这里不多做讲解，不懂下面提问在做补充。
5.技能动作时装，没有则释放技能裸体，先把qeuipment里面的lay文件提取出来，然后其他文件拖入，在lay写上对应的lay编号。
6.下面就是核心部分sqr（nut部分），大部分萌新灰技能，冲突，各种bug就出在这里，既然是加技能，就说明你有对应的nut文件，这里我们先把sqr里面的load文件，header文件，loadstate文件提取出来（loadstae如果有就提取，没有就不用），主技能文件直接拖入，然后在header里面填写信息（原pvf对应职业下有header情况下才填写，没有直接拖入文件header）state（状态编号，这个随便写 不重复就好），skill技能编号（对应技能lst列表编号），ani编号（对应chr里面etc motion里面的ani编号，不知道的看步骤1），atk编号同理。下面来到load文件（原pvf有才填写，没有直接拖入），里面填写IRDSQRcharacter pushstae（职业编号，技能nut主文件路径，nut函数名（也是skl技能名严格区别大小写否则灰技能，header里面state名称，header里面skill名称））；有的话职业复制，然后再loadstate文件里面写上load文件声明。

> [原贴](https://tieba.baidu.com/p/7314435975)
